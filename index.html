<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OBSERVA+ | Observaci√≥n Preventiva</title>
   <link rel="manifest" href="manifest.json">
   <meta name="theme-color" content="#1f6f5c"><!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OBSERVA+ | Observaci√≥n Preventiva</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1f6f5c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="icon" type="image/png" href="icon-192.png">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #f6f8fb; color: #1f2937; }
        .splash { background: linear-gradient(135deg, #0b3c5d, #1f6f5c); color: white; padding: 40px 20px; text-align: center; min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .splash h1 { font-size: 3em; margin: 20px 0; }
        .splash p { font-size: 1.1em; margin: 10px 0 30px; opacity: 0.9; }
        .splash button { background: white; color: #1f6f5c; font-weight: 700; padding: 14px 28px; border: none; border-radius: 50px; cursor: pointer; font-size: 1.1em; margin-top: 20px; }
        .splash button:hover { filter: brightness(0.9); }
        header { background: linear-gradient(135deg, #0b3c5d, #1f6f5c); color: white; padding: 18px; text-align: center; display: none; }
        header.visible { display: block; }
        main { padding: 20px; max-width: 980px; margin: auto; display: none; }
        main.visible { display: block; }
        .card { background: white; border-radius: 14px; padding: 18px; margin-bottom: 16px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h2 { margin: 0 0 20px 0; color: #1f6f5c; }
        label { display: block; margin: 15px 0 5px 0; font-weight: 600; color: #333; }
        input, select, textarea { width: 100%; padding: 10px; margin: 5px 0 10px 0; border-radius: 8px; border: 1px solid #ddd; font-size: 14px; }
        textarea { resize: vertical; min-height: 80px; }
        button { background: linear-gradient(135deg, #1f6f5c, #f2a365); color: white; font-weight: 700; padding: 12px 20px; border: none; border-radius: 8px; cursor: pointer; margin: 10px 5px 10px 0; }
        button:hover { filter: brightness(0.95); }
        #preview-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; margin: 15px 0; }
        .preview-item { position: relative; border-radius: 8px; overflow: hidden; background: #e0e0e0; height: 120px; }
        .preview-item img, .preview-item video { width: 100%; height: 100%; object-fit: cover; }
        .remove-btn { position: absolute; top: 5px; right: 5px; background: rgba(255,0,0,0.9); color: white; border: none; border-radius: 50%; width: 25px; height: 25px; cursor: pointer; font-weight: bold; }
        #cameraModal { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: black; display: none; z-index: 1000; align-items: center; justify-content: center; flex-direction: column; }
        #cameraModal.visible { display: flex; }
        #videoStream { max-width: 100%; max-height: 70vh; }
        .camera-buttons { margin-top: 20px; display: flex; gap: 10px; }
        footer { text-align: center; font-size: 12px; color: #999; margin: 20px 0; }
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <div class="splash" id="splash">
        <h1>OBSERVA+</h1>
        <p>Observaci√≥n y Prevenci√≥n Operativa</p>
        <button onclick="iniciarApp()">Comenzar ‚Üí</button>
    </div>

    <header id="header">
        <h1>OBSERVA+</h1>
        <p>Observaci√≥n y Prevenci√≥n Operativa</p>
    </header>

    <main id="main">
        <div class="card">
            <h2>Nuevo Reporte</h2>
            
            <label>Fecha</label>
            <input type="date" id="fecha" required>
            
            <label>Edificio</label>
            <select id="edificio" required>
                <option value="">Seleccione...</option>
                <option>Edificio 1</option>
                <option>Edificio 2</option>
                <option>Edificio 3</option>
                <option>Edificio 4</option>
            </select>
            
            <label>Lugar espec√≠fico</label>
            <input type="text" id="lugar" placeholder="Ej: Pasillo t√©cnico, laboratorio" required>
            
            <label>Tipo de novedad</label>
            <select id="tipo" required>
                <option value="">Seleccione...</option>
                <option>Conducta insegura</option>
                <option>Desviaci√≥n de procedimiento</option>
                <option>Riesgo humano / fatiga</option>
                <option>Riesgo operativo</option>
                <option>Anomal√≠a de rutina</option>
                <option>Da√±o en infraestructura</option>
            </select>
            
            <label>Descripci√≥n</label>
            <textarea id="descripcion" placeholder="Describa de forma objetiva lo observado" required></textarea>
            
            <label>Nivel de riesgo</label>
            <select id="riesgo" required>
                <option value="">Seleccione...</option>
                <option>Bajo</option>
                <option>Medio</option>
                <option>Alto</option>
            </select>
            
            <label>Adjuntar fotos/videos</label>
            <input type="file" id="fotos" accept="image/*,video/*" multiple onchange="previewFotos(event)">
            <div id="preview-container"></div>
            
            <button onclick="abrirCamara()">Capturar Foto</button>
            
            <div style="margin-top: 20px; border-top: 1px solid #ddd; padding-top: 20px;">
                <button onclick="enviarPorCorreo()" style="background: #4CAF50;">Enviar por Correo</button>
                <button onclick="enviarWhatsApp()" style="background: #25D366;">Compartir por WhatsApp</button>
            </div>
        </div>
    </main>

    <div id="cameraModal">
        <video id="videoStream" autoplay></video>
        <canvas id="canvas" style="display:none;"></canvas>
        <div class="camera-buttons">
            <button onclick="capturarFoto()">Capturar</button>
            <button onclick="cerrarCamara()" style="background: #999;">Cerrar</button>
        </div>
    </div>

    <footer>OBSERVA+ ¬∑ Uso preventivo ¬∑ No implica sanci√≥n autom√°tica</footer>

    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js').catch(e => console.log('SW no registrado'));
        }

        let fotosSeleccionadas = [];
        let streamCamara = null;

        function iniciarApp() {
            document.getElementById('splash').classList.add('hidden');
            document.getElementById('header').classList.add('visible');
            document.getElementById('main').classList.add('visible');
        }

        function previewFotos(event) {
            const files = Array.from(event.target.files);
            fotosSeleccionadas = files;
            mostrarPreview();
        }

        function mostrarPreview() {
            const container = document.getElementById('preview-container');
            container.innerHTML = '';
            
            fotosSeleccionadas.forEach((file, index) => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const tipo = file.type.startsWith('image') ? 'image' : 'video';
                    const div = document.createElement('div');
                    div.className = 'preview-item';
                    div.innerHTML = tipo === 'image' 
                        ? `<img src="${e.target.result}" alt="Foto">` 
                        : `<video src="${e.target.result}" controls></video>`;
                    div.innerHTML += `<button class="remove-btn" onclick="eliminarFoto(${index})">√ó</button>`;
                    container.appendChild(div);
                };
                reader.readAsDataURL(file);
            });
        }

        function eliminarFoto(index) {
            fotosSeleccionadas.splice(index, 1);
            document.getElementById('fotos').value = '';
            mostrarPreview();
        }

        function abrirCamara() {
            document.getElementById('cameraModal').classList.add('visible');
            navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' }, audio: false })
                .then(stream => {
                    streamCamara = stream;
                    document.getElementById('videoStream').srcObject = stream;
                })
                .catch(e => alert('Error: ' + e.message));
        }

        function capturarFoto() {
            const canvas = document.getElementById('canvas');
            const video = document.getElementById('videoStream');
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            canvas.getContext('2d').drawImage(video, 0, 0);
            
            canvas.toBlob(blob => {
                const file = new File([blob], 'foto_' + Date.now() + '.jpg', { type: 'image/jpeg' });
                fotosSeleccionadas.push(file);
                mostrarPreview();
                alert('Foto capturada');
                cerrarCamara();
            });
        }

        function cerrarCamara() {
            document.getElementById('cameraModal').classList.remove('visible');
            if (streamCamara) streamCamara.getTracks().forEach(t => t.stop());
        }

        function validarFormulario() {
            const fecha = document.getElementById('fecha').value;
            const edificio = document.getElementById('edificio').value;
            const lugar = document.getElementById('lugar').value;
            const tipo = document.getElementById('tipo').value;
            const descripcion = document.getElementById('descripcion').value;
            
            if (!fecha || !edificio || !lugar || !tipo || !descripcion) {
                alert('Por favor complete todos los campos obligatorios');
                return false;
            }
            return true;
        }

        function enviarPorCorreo() {
            if (!validarFormulario()) return;
            
            const fecha = document.getElementById('fecha').value;
            const edificio = document.getElementById('edificio').value;
            const lugar = document.getElementById('lugar').value;
            const tipo = document.getElementById('tipo').value;
            const descripcion = document.getElementById('descripcion').value;
            const riesgo = document.getElementById('riesgo').value;
            
            const body = `Reporte OBSERVA+%0A%0AFecha: ${fecha}%0AEdificio: ${edificio}%0ALugar: ${lugar}%0ATipo: ${tipo}%0ARiesgo: ${riesgo}%0A%0ADescripci√≥n:%0A${descripcion}%0A%0ANota: Adjunte fotos/videos manualmente`;
            window.location.href = `mailto:paetq@tqgrupo.com?subject=Reporte%20OBSERVA+&body=${body}`;
        }

        function enviarWhatsApp() {
            if (!validarFormulario()) return;
            
            const fecha = document.getElementById('fecha').value;
            const edificio = document.getElementById('edificio').value;
            const tipo = document.getElementById('tipo').value;
            const descripcion = document.getElementById('descripcion').value;
            
            const mensaje = `*REPORTE OBSERVA+*%0A%0AFecha: ${fecha}%0AEdificio: ${edificio}%0ATipo: ${tipo}%0ADescripci√≥n: ${descripcion}%0A%0AEnviado desde OBSERVA+`;
            window.open(`https://wa.me/?text=${mensaje}`, '_blank');
        }
    </script>
</body>
</html>
   <meta name="apple-mobile-web-app-capable" content="yes">
   <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
   <link rel="icon" type="image/png" href="icon-192.png">
  
  
  <style>
    :root{
      --bg:#f6f8fb; --card:#ffffff; --primary:#1f6f5c; --secondary:#f2a365; --accent:#0b3c5d; --ok:#2ecc71; --warn:#f1c40f; --bad:#e74c3c; --text:#1f2937;
    }
    body { font-family: 'Segoe UI', Arial, sans-serif; background:var(--bg); margin:0; color:var(--text); }
    .splash { background:linear-gradient(135deg,var(--accent),var(--primary)); color:white; padding:40px 20px; text-align:center; min-height:80vh; display:flex; flex-direction:column; align-items:center; justify-content:center; }
    .splash h1{margin:0; font-size:3em; display:flex; align-items:center; justify-content:center; gap:15px;}
    .splash .shield{width:50px; height:50px}
    .splash p{margin:10px 0 30px; opacity:0.9; font-size:1.1em}
    .splash .card-info { background:rgba(255,255,255,0.15); border-radius:15px; padding:25px; max-width:500px; margin:20px 0; backdrop-filter:blur(10px); }
    .splash button { background:white; color:var(--primary); font-weight:700; padding:14px 28px; border:none; border-radius:50px; cursor:pointer; font-size:1.1em; margin-top:20px; }
    .splash button:hover { filter:brightness(0.9); }
    header { background:linear-gradient(135deg,var(--accent),var(--primary)); color:white; padding:18px; text-align:center; }
    header .brand{display:flex; align-items:center; justify-content:center; gap:10px}
    header .shield{width:34px; height:34px}
    main { padding:20px; max-width:980px; margin:auto; display:none; }
    main.active { display:block; }
    .card { background:var(--card); border-radius:14px; padding:18px; margin-bottom:16px; box-shadow:0 10px 20px rgba(0,0,0,0.08); }
    h2{margin-top:0}
    label { display:block; margin-top:12px; font-weight:600; }
    input, select, textarea, button {
      width:100%; padding:10px; margin-top:6px; border-radius:10px; border:1px solid #d1d5db; font-size:14px; box-sizing:border-box;
    }
    select[multiple]{height:110px}
    button { background:linear-gradient(135deg,var(--primary),var(--secondary)); color:white; font-weight:700; cursor:pointer; border:none; }
    button.secondary{background:#eef2f7; color:#111827}
    button:hover { filter:brightness(0.95); }
    .note { font-size:12px; color:#6b7280; margin-top:6px; }
    .grid{display:grid; grid-template-columns:1fr 1fr; gap:14px}
    .badge{display:inline-block; padding:6px 10px; border-radius:999px; font-size:12px; font-weight:700}
    .badge.ok{background:#eafaf1; color:#166534}
    .badge.warn{background:#fff7ed; color:#9a3412}
    .badge.bad{background:#fee2e2; color:#7f1d1d}
    footer { text-align:center; font-size:12px; color:#6b7280; margin:28px 0; }
    .hidden{display:none}
    #preview-container { margin-top:15px; display:grid; grid-template-columns:repeat(auto-fill, minmax(150px, 1fr)); gap:10px; }
    .preview-item { position:relative; border-radius:10px; overflow:hidden; background:#f0f0f0; }
    .preview-item img, .preview-item video { width:100%; height:150px; object-fit:cover; }
    .preview-item .remove-btn { position:absolute; top:5px; right:5px; background:rgba(255,0,0,0.8); color:white; border:none; border-radius:50%; width:30px; height:30px; cursor:pointer; font-weight:bold; }
    .preview-item .remove-btn:hover { background:rgba(255,0,0,1); }
    #cameraContainer { position:fixed; top:0; left:0; right:0; bottom:0; background:black; display:flex; flex-direction:column; align-items:center; justify-content:center; z-index:1000; }
    #videoStream { max-width:100%; max-height:80vh; border-radius:10px; }
    .camera-controls { display:flex; gap:10px; margin-top:20px; }
    .camera-controls button { width:auto; padding:15px 25px; }
  </style>
</head>
<body>
  <div class="splash" id="splash">
    <svg class="shield" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 2L20 6V11C20 16.25 16.5 20.74 12 22C7.5 20.74 4 16.25 4 11V6L12 2Z" fill="#ffffff" opacity="0.95"/>
    </svg>
    <h1>OBSERVA+</h1>
    <p>Observaci√≥n y Prevenci√≥n Operativa</p>
    <div class="card-info">
      <p style="margin-top:0">App progresiva para monitoreo y observaci√≥n en tiempo real</p>
      <p>Instalada desde GitHub Pages</p>
      <p style="font-size:0.9em; opacity:0.9">Es una PWA (Progressive Web App) que puedes instalar como app en tu dispositivo y usar sin conexi√≥n a internet.</p>
    </div>
    <button onclick="iniciarApp()">Comenzar ‚Üí</button>
  </div>

  <header id="header" class="hidden">
    <div class="brand">
      <svg class="shield" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 2L20 6V11C20 16.25 16.5 20.74 12 22C7.5 20.74 4 16.25 4 11V6L12 2Z" fill="#ffffff" opacity="0.95"/>
      </svg>
      <div>
        <h1 style="margin:0">OBSERVA+</h1>
        <p style="margin:0;opacity:.9">Observaci√≥n y Prevenci√≥n Operativa</p>
      </div>
    </div>
  </header>

  <main id="main">
    <div class="card">
      <h2>Nuevo Reporte</h2>
      
      <!-- PRIMERO: FECHA -->
      <label>Fecha (dd-mm-aaaa)</label>
      <input type="date" id="fecha" required />
      
      <!-- SEGUNDO: EDIFICIO -->
      <label>Edificio</label>
      <select id="edificio">
        <option>Seleccione‚Ä¶</option>
        <option>Edificio 1</option>
        <option>Edificio 2</option>
        <option>Edificio 3</option>
        <option>Edificio 4</option>
      </select>
      
      <!-- TERCERO: LUGAR ESPEC√çFICO -->
      <label>Lugar espec√≠f ico</label>
      <input type="text" id="lugar" placeholder="Ej: Pasillo t√©cnico, laboratorio, acceso" />
      
      <!-- RESTO DE CAMPOS -->
      <label>Tipo de novedad</label>
      <select id="tipo" onchange="toggleInfra()">
        <option>Seleccione‚Ä¶</option>
        <option>Conducta insegura</option>
        <option>Desviaci√≥n de procedimiento</option>
        <option>Riesgo humano / fatiga</option>
        <option>Riesgo operativo</option>
        <option>Anomal√≠a de rutina</option>
        <option>Da√±o en infraestructura</option>
      </select>
      
      <div id="infra" class="hidden">
        <label>Tipo de da√±o en infraestructura</label>
        <select id="tipoInfra">
          <option>Iluminaci√≥n / el√©ctrico</option>
          <option>Puertas / accesos</option>
          <option>Pisos / baldosas</option>
          <option>Humedad / filtraci√≥n</option>
          <option>Se√±alizaci√≥n</option>
          <option>Otro</option>
        </select>
      </div>
      
      <label>Descripci√≥n de la novedad</label>
      <textarea id="descripcion" rows="4" placeholder="Describa de forma objetiva lo observado"></textarea>
      
      <label>Motivo del reporte</label>
      <select id="motivo" multiple>
        <option>Fuera de horario</option>
        <option>Fuera de procedimiento</option>
        <option>Permanencia inusual</option>
        <option>Zona cr√≠tica</option>
        <option>Evento repetido</option>
        <option>Condici√≥n insegura de infraestructura</option>
      </select>
      
      <label>Nivel de riesgo</label>
      <select id="riesgo">
        <option>üü¢ Bajo</option>
        <option>üü° Medio</option>
        <option>üî¥ Alto</option>
      </select>
      
      <label>Enviar al PAE (RRHH)</label>
      <select id="enviarPAE">
        <option>S√≠ (paetq@tqgrupo.com)</option>
        <option>No</option>
      </select>
      
      <label>üì∑ Adjuntar m√∫ltiples fotos/videos</label>
      <input type="file" id="evidencias" accept="image/*,video/*" multiple onchange="previewFiles(event)" />
      <p class="note">‚ö†Ô∏è Puede adjuntar varias fotos y/o videos. Evite adjuntar im√°genes con rostros si no es necesario.</p>
      
      <div id="preview-container"></div>
      
      <button onclick="abrirCamara()">üì∑ Capturar Foto/Video</button>
      
      <div id="cameraContainer" class="hidden">
        <video id="videoStream" autoplay playsinline></video>
        <div class="camera-controls">
          <button onclick="capturarFoto()">üì∏ Capturar Foto</button>
          <button class="secondary" onclick="cerrarCamara()">‚úï Cerrar</button>
        </div>
      </div>
      <canvas id="canvas" class="hidden"></canvas>
      
      <button onclick="enviarReporte()">‚úâÔ∏è Enviar Reporte</button>
      <button onclick="sendMailWithAttachment()" class="secondary">üìù Enviar por Correo</button>
      <button onclick="compartirWhatsApp()" class="secondary">üì± Compartir por WhatsApp</button>
    </div>
  </main>

  <footer>
    OBSERVA+ ¬∑ Uso preventivo ¬∑ No implica sanci√≥n autom√°tica
  </footer>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js');
    }

    let archivosSeleccionados = [];

    function iniciarApp(){
      document.getElementById('splash').classList.add('hidden');
      document.getElementById('header').classList.remove('hidden');
      document.getElementById('main').classList.add('active');
    }

    function toggleInfra(){
      const t = document.getElementById('tipo').value;
      document.getElementById('infra').classList.toggle('hidden', t !== 'Da√±o en infraestructura');
    }

    function previewFiles(event) {
      const files = Array.from(event.target.files);
      archivosSeleccionados = files;
      renderizarPrevisualizacion();
    }

    function renderizarPrevisualizacion() {
      const preview = document.getElementById('preview-container');
      preview.innerHTML = '';
      
      archivosSeleccionados.forEach((file, index) => {
        const reader = new FileReader();
        reader.onload = function(e) {
          const div = document.createElement('div');
          div.className = 'preview-item';
          
          const tipo = file.type.startsWith('image') ? 'image' : 'video';
          let html = '';
          
          if (tipo === 'image') {
            html = `<img src="${e.target.result}" alt="Foto" />`;
          } else {
            html = `<video controls><source src="${e.target.result}" type="${file.type}">Tu navegador no soporta video</video>`;
          }
          
          html += `<button class="remove-btn" onclick="removerArchivo(${index})">√ó</button>`;
          div.innerHTML = html;
          preview.appendChild(div);
        };
        reader.readAsDataURL(file);
      });
    }

    function removerArchivo(index) {
      archivosSeleccionados.splice(index, 1);
      const input = document.getElementById('evidencias');
      const dt = new DataTransfer();
      archivosSeleccionados.forEach(file => dt.items.add(file));
      input.files = dt.files;
      renderizarPrevisualizacion();
    }

    let stream = null;

    function abrirCamara(){
      const cameraContainer = document.getElementById('cameraContainer');
      const video = document.getElementById('videoStream');
      cameraContainer.classList.remove('hidden');
      navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' }, audio: false })
        .then(s => { stream = s; video.srcObject = s; video.play(); })
        .catch(e => alert('No se pudo acceder a la c√°mara: ' + e.message));
    }

    function capturarFoto(){
      const canvas = document.getElementById('canvas');
      const video = document.getElementById('videoStream');
      const ctx = canvas.getContext('2d');
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;
      ctx.drawImage(video, 0, 0);
      
      canvas.toBlob(blob => {
        const file = new File([blob], 'captura_' + Date.now() + '.jpg', { type: 'image/jpeg' });
        archivosSeleccionados.push(file);
        renderizarPrevisualizacion();
        alert('Foto capturada y agregada!');
        cerrarCamara();
      });
    }

    function cerrarCamara(){
      if(stream) stream.getTracks().forEach(t => t.stop());
      document.getElementById('cameraContainer').classList.add('hidden');
    }

    function enviarReporte(){
      const fecha = document.getElementById('fecha').value;
      const edificio = document.getElementById('edificio').value;
      const lugar = document.getElementById('lugar').value;
      const tipo = document.getElementById('tipo').value;
      const descripcion = document.getElementById('descripcion').value;
      
      if(!fecha || edificio === 'Seleccione‚Ä¶' || !lugar || tipo === 'Seleccione‚Ä¶' || !descripcion) {
        alert('Por favor complete todos los campos obligatorios');
        return;
      }
      
      alert('Reporte preparado para enviar. Ahora selecciona compartir por WhatsApp o Correo.');
    }

    function sendMailWithAttachment(){
      const fecha = document.getElementById('fecha').value;
      const edificio = document.getElementById('edificio').value;
      const lugar = document.getElementById('lugar').value;
      const tipo = document.getElementById('tipo').value;
      const descripcion = document.getElementById('descripcion').value;
      const riesgo = document.getElementById('riesgo').value;
      
      const body = `Reporte Preventivo OBSERVA+%0A%0AFecha: ${fecha}%0AEdificio: ${edificio}%0ALugar: ${lugar}%0ATipo: ${tipo}%0ARiesgo: ${riesgo}%0A%0ADescripci%C3%B3n:%0A${descripcion}%0A%0ANota: Las im%C3%A1genes/videos deben adjuntarse manualmente al correo.`;
      
      window.location.href = `mailto:paetq@tqgrupo.com?subject=Reporte%20Preventivo%20OBSERVA%2B&body=${body}`;
    }

    function compartirWhatsApp(){
      const edificio = document.getElementById('edificio').value;
      const tipo = document.getElementById('tipo').value;
      const descripcion = document.getElementById('descripcion').value;
      const fecha = document.getElementById('fecha').value;
      
      const mensaje = `*REPORTE OBSERVA+*%0A%0AFecha: ${fecha}%0AEdificio: ${edificio}%0ATipo: ${tipo}%0ADescripci%C3%B3n: ${descripcion}%0A%0AEnviado desde OBSERVA+ - Observaci%C3%B3n y Prevenci%C3%B3n Operativa`;
      
      const enlace = `https://wa.me/?text=${mensaje}`;
      window.open(enlace, '_blank');
    }
  </script>
</body>
</html>
